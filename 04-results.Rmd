# Results - Genre

## Author gender by genre

I classified book genre using tags listed by Goodreads.com. To examine how genres cluster together, I created a nearest neighbor graph from the cosine similarity between tag frequencies for the top 150 tags in the dataset (fig \@ref(fig:genreGraph)). Overlaying this graph with author gender show rather strong divisions between author genders for certain genres (fig \@ref(fig:genderGraph)). Since Goodreads tags are crowdsourced and created by readers, and readership and book reviews show gender bias [@Thelwall2019], the apparent gender-genre gap might not be reflected in the text itself. The list of tags and their frequency across author genders are in (table \@ref(fig:tagFrequencies)).

```{r genreGraph, fig.cap='Nearest neighbor graph generated by book tag similarity, colored by genre. Hover over points to view the data!', out.width='100%', fig.width = 10, fig.height = 8}
theme_blank <- function(...) {
  ret <- theme_bw(...)
  ret$line <- element_blank()
  ret$rect <- element_blank()
  ret$strip.text <- element_blank()
  ret$axis.text <- element_blank()
  ret$plot.title <- element_blank()
  ret$axis.title <- element_blank()
  ret$legend.position = "none"
  ret$plot.margin <- structure(c(0, 0, 0, 0), unit = "lines", valid.unit = 3L, class = "unit")
  ret
}
nodes <- read.csv("C:/Users/Russell/OneDrive - UW/Linguistics/nodelist.csv")
p <- ggplot(nodes, aes(x=x, y=y, text=paste("title:", title,
    '</br></br>genre:', genre,
    '</br>year:', original_publication_year,
    '</br>Author:', authors,
    '</br>Gender:', gender), color = genre)) +
      geom_point(size = 1, alpha=.5) + 
  scale_colour_hue() + 
    theme_blank()

p <- ggplotly(tooltip = "text") %>%
  toWebGL()
p
```

```{R genderGraph, fig.cap='Nearest neighbor graph generated by book tag similarity, colored by author gender.', out.width='100%'}
images = "Images/graph-gender.png"
knitr::include_graphics(images)
```

## Character gender by genre

Graphs get messy, so I made a table showing the number of books written by male and female authors in each genre (fig \@ref(fig:authorCounts)). In addition, the character gender ratio varies substantially across both author gender and genre  (fig \@ref(fig:characterCounts)). 

```{R authorCounts, fig.cap='Author gender discrepancy by genre.', out.width='100%'}
images = "Images/AuthorGenderCount.png"
knitr::include_graphics(images)
```

```{R characterCounts, fig.cap='Character gender discrepancy by author gender.', out.width='100%'}
images = "Images/CharCountByGender.png"
knitr::include_graphics(images)
```

## Classifying author gender using genre tags

Genre tags alone can classify author gender with 83% accuracy (table \@ref(tab:tagsAuthConfusion)). Again, this might reflect gender bias in genre attrbituion, not just textual differences between authors [@Thelwall2019]. The list of tags can be found in (table \@ref(fig:tagFrequencies)).



```{r tagsAuthConfusion, fig.cap="Predicted character gender using EMPATH categories."}
DT = data.frame(TM=c(1822,430), TF=c(319,1938))
row.names(DT) <- c("Male Authors","Female Authors")

knitr::kable(DT, col.names = c("Predicted Male","Predicted Female"), caption = 'Predicted author gender using tags') %>%
  kable_styling(bootstrap_options = "striped", full_width = F) %>%
  column_spec(1, bold = T)

```





## Character frequency

Female minor characters are relatively underrepresented, as shown by a slightly reduced proportion of characters that make fewer appearances in the text (fig \@ref(fig:maleAsDefault1)). This might reflect the concept of “male-as-default”, where non-gender-specific characters are generally portrayed as male.

Additionally, male characters are more frequently written as the subject (nsubj) of a sentence than a object (dobj), relative to female characters \@ref(fig:nsubjVsdobj)). Both of these differences were larger in male authors.

```{R nsubjVsdobj, fig.cap='Ratio of characters as subject vs object.', out.width='100%'}
images = "Images/nsubj_vs_dobj.png"
knitr::include_graphics(images)
```

```{R maleAsDefault, fig.cap='Distribution of characters as percentage of total words.', out.width='100%'}
images = c("Images/charWordRatioMaleAuth.png","Images/charWordRatioFemaleAuth.png")
knitr::include_graphics(images)
```








  
